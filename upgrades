<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª Ø§Ù„Ù…ØªØ±Ø§ÙƒÙ…Ø© ÙˆØ§Ù„Ù…Ø³ØªØ­Ù‚Ø©</title>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Rubik', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
            direction: rtl;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            max-width: 800px;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        h2 {
            text-align: center;
            margin-bottom: 40px;
            font-size: 28px;
            font-weight: 700; 
            color: #1a73e8; 
            position: relative;
            padding: 15px 10px; 
            background: #f0f8ff; 
            border-radius: 10px 10px 0 0; 
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 15%; 
            left: 15%;
            height: 5px; 
            background: linear-gradient(to left, transparent, #00bcd4, transparent);
            border-radius: 5px;
        }

        .form-group {
            margin-bottom: 25px;
            position: relative;
            width: 100%;
        }

        /* ØªÙˆØ­ÙŠØ¯ Ø­Ø¬Ù… ÙˆÙ…Ø¸Ù‡Ø± Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
        .form-group input[type="date"], 
        .form-group input[type="number"],
        .form-group select {
            width: 100%;
            height: 60px; 
            padding: 18px 25px 8px; 
            font-size: 17px; 
            border-radius: 12px;
            border: 1px solid #e0e0e0; 
            background: #f8f8f8; 
            transition: all 0.3s ease;
            color: #333;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.03);
            appearance: none;
        }

        .form-group input:focus,
        .form-group select:focus {
            background: #ffffff;
            border-color: #00bcd4;
            box-shadow: 0 0 0 3px rgba(0, 188, 212, 0.2);
            outline: none;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ (Labels) - Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© */
        .form-group label {
            position: absolute;
            right: 25px; 
            top: 20px;
            font-size: 18px; 
            font-weight: 600; 
            color: #555; 
            pointer-events: none;
            transition: all 0.3s ease;
            background: transparent;
            padding: 0 5px;
            z-index: 10;
        }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ø§Ø¦Ù… (Floating Label) */
        .form-group input:focus ~ label,
        .form-group input:not(:placeholder-shown) ~ label,
        .form-group select:focus ~ label,
        .form-group select:not([value=""]) ~ label {
            top: -12px; 
            font-size: 15px; 
            font-weight: 700; 
            color: #000000; 
            background: white;
            padding: 2px 14px; 
            border-radius: 8px; 
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); 
        }
        
        /* Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ØªÙ†Ø³ÙŠÙ‚ Ù…Ø­Ø¯Ø¯ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª */
        .form-group input[type="date"]::-webkit-calendar-picker-indicator {
            padding: 0 10px; 
            cursor: pointer;
            opacity: 0.8; 
            transition: opacity 0.2s;
        }
        
        .form-group input[type="date"]:not(:placeholder-shown)::-webkit-calendar-picker-indicator {
             opacity: 1; 
        }

        /* ØªØ®ØµÙŠØµ Ø³Ù‡Ù… Ø§Ù„Ù€ select */
        .form-group select {
            appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23777%22%20d%3D%22M287%20197.8L146.2%2057%205.4%20197.8z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: left 20px center; 
            background-size: 10px 10px;
            cursor: pointer;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        button {
            flex-grow: 1;
            padding: 18px;
            border-radius: 12px;
            border: none;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        #calculateBtn {
            background: #00bcd4;
            color: white;
        }
        #calculateBtn:hover {
            background: #0097a7;
        }

        #resetBtn {
            background: #e0e0e0;
            color: #333;
        }
        #resetBtn:hover {
            background: #d0d0d0;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ù„Ø²Ø± Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© */
        #printBtn {
            background: #4caf50;
            color: white;
            flex-grow: 1;
            display: none; 
        }
        #printBtn:hover {
            background: #388e3c;
        }

        .result-section {
            margin-top: 40px;
            border-top: 1px solid #e0e0e0;
            padding-top: 30px;
        }

        /* ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ - ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø¶Ø¨Ø§Ø¨ÙŠØ© Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡ */
        .result-box {
            margin-bottom: 25px; 
            padding: 20px;
            background: #ffffff;
            border-left: 4px solid #00bcd4;
            border-radius: 12px;
            font-size: 16px;
            line-height: 1.8;
            color: #333;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2); /* Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø¶Ø¨Ø§Ø¨ÙŠØ© Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡ */
        }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª - ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø¶Ø¨Ø§Ø¨ÙŠØ© Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡ */
        .promo-list {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 12px;
            margin-top: 15px;
            margin-bottom: 25px; 
            border: 1px solid #e0e0e0;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Ø­Ø¯ÙˆØ¯ Ø¶Ø¨Ø§Ø¨ÙŠØ© Ø£Ø®Ù */
        }

        .promo-list h4 {
            margin-top: 0;
            color: #00bcd4;
            font-size: 18px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
        }

        .promo-list ul {
            margin: 0;
            padding-right: 25px;
        }

        .promo-list li {
            margin-bottom: 10px;
            padding: 12px;
            background: #ffffff;
            border-radius: 8px;
            list-style-type: disc;
            color: #333;
            border-left: 3px solid #00bcd4;
        }

        .hidden {
            display: none !important;
        }

        /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© (Print Media Query) */
        @media print {
            body {
                background: none;
                justify-content: flex-start;
                align-items: flex-start;
                padding: 0;
            }

            .container {
                width: 210mm; 
                min-height: 297mm; 
                max-width: none;
                box-shadow: none;
                border-radius: 0;
                padding: 20mm; 
                background: white;
            }

            /* Ø¥Ø®ÙØ§Ø¡ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ÙˆØ§Ù„Ø£Ø²Ø±Ø§Ø± ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© */
            .form-group, .btn-group {
                display: none;
            }
            
            h2 {
                color: #333; 
                background: none;
                border-bottom: 2px solid #00bcd4;
                padding-bottom: 10px;
                margin-bottom: 20px;
            }
            h2::after {
                content: none;
            }

            .result-section {
                margin-top: 0;
                padding-top: 0;
                border-top: none;
            }

            .result-box {
                box-shadow: none;
                border: 1px solid #ddd;
                border-left: 4px solid #00bcd4;
                page-break-inside: avoid; 
            }

            .promo-list {
                border: 1px solid #ddd;
                box-shadow: none;
                page-break-inside: avoid;
            }

            .promo-list li {
                box-shadow: none;
                border: none;
                border-bottom: 1px dotted #ccc;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 25px;
            }

            h2 {
                font-size: 24px;
            }

            .form-group {
                margin-bottom: 20px;
            }

            .form-group input[type="date"],
            .form-group input[type="number"],
            .form-group select {
                height: 60px;
                padding: 18px 20px 8px;
            }

            .btn-group {
                flex-direction: column;
                margin-top: 25px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª Ø§Ù„Ù…ØªØ±Ø§ÙƒÙ…Ø© ÙˆØ§Ù„Ù…Ø³ØªØ­Ù‚Ø©</h2>
        
        <form id="promotionForm">
            <div class="form-group">
                <input type="date" id="gradDate" name="gradDate" placeholder=" " required>
                <label for="gradDate">ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ®Ø±Ø¬</label>
            </div>

            <div class="form-group">
                <select id="previousGrade" name="previousGrade" required>
                    <option value="" disabled selected hidden></option>
                    <option value="8">8 (Ø£Ø¯Ù†Ù‰ Ø¯Ø±Ø¬Ø©)</option>
                    <option value="7">7</option>
                    <option value="6">6</option>
                    <option value="5">5</option>
                    <option value="4">4</option>
                    <option value="3">3</option>
                    <option value="2">2</option>
                    <option value="1">1 (Ø£Ø¹Ù„Ù‰ Ø¯Ø±Ø¬Ø©)</option>
                </select>
                <label for="previousGrade">Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© (Ù‚Ø¨Ù„ Ø§Ù„ØªØ®Ø±Ø¬)</label>
            </div>

            <div class="form-group">
                <select id="currentGrade" name="currentGrade" required>
                    <option value="" disabled selected hidden></option>
                    <option value="8">8 (Ø£Ø¯Ù†Ù‰ Ø¯Ø±Ø¬Ø©)</option>
                    <option value="7">7</option>
                    <option value="6">6</option>
                    <option value="5">5</option>
                    <option value="4">4</option>
                    <option value="3">3</option>
                    <option value="2">2</option>
                    <option value="1">1 (Ø£Ø¹Ù„Ù‰ Ø¯Ø±Ø¬Ø©)</option>
                </select>
                <label for="currentGrade">Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (Ø¨Ø¹Ø¯ Ø§Ù„ØªØ®Ø±Ø¬)</label>
            </div>

            <div class="form-group hidden">
                <input type="date" id="calculationDate" name="calculationDate" placeholder=" " required>
                <label for="calculationDate">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø³Ø§Ø¨</label>
            </div>

            <div class="btn-group">
                <button type="button" id="calculateBtn">Ø§Ø­Ø³Ø¨ Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª</button>
                <button type="button" id="resetBtn">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
                <button type="button" id="printBtn">Ø·Ø¨Ø§Ø¹Ø© (PDF)</button>
            </div>
        </form>

        <div class="result-section">
            <div id="resultsContainer"></div>
        </div>
    </div>

    <script>
        // Ø¯Ø§Ù„Ø© Ù„ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„ÙØ¹Ù„ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ (Ø§Ù„ÙŠÙˆÙ…) ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        function setCurrentDate() {
            const today = new Date();
            const year = today.getFullYear();
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const day = String(today.getDate()).padStart(2, '0');
            const todayString = `${year}-${month}-${day}`;
            
            document.getElementById('calculationDate').value = todayString;
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„ÙØ±Ù‚ Ø¨Ø§Ù„Ø³Ù†ÙˆØ§Øª Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ†
        function getYearsBetween(startDate, endDate) {
            const start = new Date(startDate);
            const end = new Date(endDate);
            const diffTime = Math.abs(end - start);
            const diffYears = diffTime / (1000 * 60 * 60 * 24 * 365.25);
            return diffYears;
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¥Ø¶Ø§ÙØ© Ø³Ù†ÙˆØ§Øª Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ® Ù…Ø¹ÙŠÙ†
        function addYears(date, years) {
            const result = new Date(date);
            result.setFullYear(result.getFullYear() + years);
            return result.toISOString().split('T')[0];
        }

        // Ø¯Ø§Ù„Ø© Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¹Ø±Ø¨ÙŠ
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('ar-IQ', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
        }
        
        // Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ø±ØªØ¨Ø© Ø§Ù„Ø¯Ø±Ø¬Ø© (Ø£Ø¹Ù„Ù‰/Ø£Ø¯Ù†Ù‰)
        function getGradeRank(grade) {
            if (grade === 1) return 'Ø£Ø¹Ù„Ù‰ Ø¯Ø±Ø¬Ø©';
            if (grade === 8) return 'Ø£Ø¯Ù†Ù‰ Ø¯Ø±Ø¬Ø©';
            return '';
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ù†ØªÙŠØ¬Ø© ÙˆØ§Ø­Ø¯Ø©
        function showResult(message, type = 'info') {
            const resultsContainer = document.getElementById('resultsContainer');
            const resultDiv = document.createElement('div');
            resultDiv.className = `result-box ${type}`;
            resultDiv.innerHTML = message;
            resultsContainer.appendChild(resultDiv);
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª
        function showPromotionsList(title, promotions) {
            const resultsContainer = document.getElementById('resultsContainer');
            const listDiv = document.createElement('div');
            listDiv.className = 'promo-list';
            
            let html = `<h4>${title}</h4><ul>`;
            promotions.forEach(promo => {
                html += `<li>${promo.text}</li>`;
            });
            html += '</ul>';
            
            listDiv.innerHTML = html;
            resultsContainer.appendChild(listDiv);
        }
        
        // **********************************************
        // Ø¯Ø§Ù„Ø© Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª
        // **********************************************
        function calculatePromotions() {
            const gradDate = document.getElementById('gradDate').value;
            const previousGrade = parseInt(document.getElementById('previousGrade').value); 
            const currentGrade = parseInt(document.getElementById('currentGrade').value); 
            const calculationDate = document.getElementById('calculationDate').value;
            
            const resultsContainer = document.getElementById('resultsContainer');
            resultsContainer.innerHTML = '';
            document.getElementById('printBtn').style.display = 'none';

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            if (!gradDate || !calculationDate || isNaN(previousGrade) || isNaN(currentGrade)) {
                showResult('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­.', 'error');
                return;
            }

            if (currentGrade <= previousGrade) {
                showResult('Ø®Ø·Ø£: Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø£Ù‚Ù„ Ø±Ù‚Ù…Ø§Ù‹ Ù…Ù† Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (Ù…Ø«Ù„Ø§Ù‹: Ø§Ù„Ø³Ø§Ø¨Ù‚ 5ØŒ Ø§Ù„Ø­Ø§Ù„ÙŠ 8).', 'error');
                return;
            }
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„ØªØ®Ø±Ø¬ ÙˆØ§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„ÙØ¹Ù„ÙŠ
            const yearsSinceGrad = getYearsBetween(gradDate, calculationDate);
            const totalMonths = Math.floor(yearsSinceGrad * 12);
            const totalYears = Math.floor(yearsSinceGrad);

            // Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ø¯Ø±Ø¬Ø§Øª (Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù„Ù„ØªØ±Ù‚ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø© ÙÙŠ Ø¯ÙˆØ± Ø§Ù„ØªØ³Ø±ÙŠØ¹)
            const gradeDifference = currentGrade - previousGrade;

            let earnedList = [];
            let futureList = [];
            let actualEarnedCount = 0;
            
            // ÙŠØªÙ… Ø§Ù„ØªØ±Ù‚ÙŠØ© Ø¯Ø±Ø¬Ø© ÙˆØ§Ø­Ø¯Ø© ÙƒÙ„ Ø³Ù†ØªÙŠÙ† (2 Ø³Ù†Ø©)
            for (let i = 0; i < gradeDifference; i++) {
                const promoYear = (i + 1) * 2;
                const promoDate = addYears(gradDate, promoYear);
                
                const fromGrade = currentGrade - i;
                const toGrade = currentGrade - i - 1;
                
                if (new Date(promoDate) <= new Date(calculationDate)) {
                    actualEarnedCount++;
                    earnedList.push({
                        date: promoDate,
                        text: `Ø§Ù„ØªØ±Ù‚ÙŠØ© ${i + 1}: Ù…Ù† Ø§Ù„Ø¯Ø±Ø¬Ø© ${fromGrade} (${getGradeRank(fromGrade)}) Ø¥Ù„Ù‰ Ø§Ù„Ø¯Ø±Ø¬Ø© ${toGrade} (${getGradeRank(toGrade)}) Ø¨ØªØ§Ø±ÙŠØ® ${formatDate(promoDate)}`
                    });
                } else {
                    futureList.push({
                        date: promoDate,
                        text: `Ø§Ù„ØªØ±Ù‚ÙŠØ© ${i + 1}: Ù…Ù† Ø§Ù„Ø¯Ø±Ø¬Ø© ${fromGrade} (${getGradeRank(fromGrade)}) Ø¥Ù„Ù‰ Ø§Ù„Ø¯Ø±Ø¬Ø© ${toGrade} (${getGradeRank(toGrade)}) Ø¨ØªØ§Ø±ÙŠØ® ${formatDate(promoDate)}`
                    });
                }
            }

            // ØªØ­Ø¯ÙŠØ¯ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ³Ø±ÙŠØ¹
            let status = '';
            let nextPromotionDate = null;
            const remainingCount = gradeDifference - actualEarnedCount;

            if (actualEarnedCount >= gradeDifference) {
                status = `âœ… ØªÙ… ØªØ­Ù‚ÙŠÙ‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ù…ØªØ±Ø§ÙƒÙ…Ø© ÙˆØ§Ù„Ù…Ø³ØªØ­Ù‚Ø© (${gradeDifference} ØªØ±Ù‚ÙŠØ§Øª) ÙÙŠ ÙØªØ±Ø© Ø§Ù„ØªØ³Ø±ÙŠØ¹.`;
                showResult(`<strong>Ø­Ø§Ù„Ø© Ø§Ù„ØªØ³Ø±ÙŠØ¹:</strong> ${status}`, 'success');
            } else {
                status = `â³ ØªÙ… ØªØ­Ù‚ÙŠÙ‚ ${actualEarnedCount} ØªØ±Ù‚ÙŠØ§Øª Ù…ØªØ±Ø§ÙƒÙ…Ø©ØŒ ÙˆØ¨Ø§Ù‚ÙŠ ${remainingCount} ØªØ±Ù‚ÙŠØ§Øª Ù…Ø³ØªØ­Ù‚Ø© ÙÙŠ Ø¯ÙˆØ± Ø§Ù„ØªØ³Ø±ÙŠØ¹.`;
                nextPromotionDate = futureList.length > 0 ? futureList[0].date : null;
                showResult(`<strong>Ø­Ø§Ù„Ø© Ø§Ù„ØªØ³Ø±ÙŠØ¹:</strong> ${status}`, 'warning');
            }
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©
            showResult(`<strong>Ø§Ù„Ø®Ø¯Ù…Ø© Ù…Ù†Ø° Ø§Ù„ØªØ®Ø±Ø¬:</strong> ${totalYears} Ø³Ù†ÙˆØ§Øª Ùˆ ${totalMonths % 12} Ø£Ø´Ù‡Ø±`, 'info');
            showResult(`<strong>Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª Ø§Ù„Ù…ØªØ±Ø§ÙƒÙ…Ø© Ø§Ù„Ù…Ø­Ù‚Ù‚Ø©:</strong> ${actualEarnedCount} ØªØ±Ù‚ÙŠØ©`, 'info');
            showResult(`<strong>Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©:</strong> ${remainingCount} ØªØ±Ù‚ÙŠØ©`, 'info');
            showResult(`<strong>Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ø¯Ø±Ø¬Ø§Øª:</strong> ${gradeDifference} ØªØ±Ù‚ÙŠØ© (Ù…Ù† Ø§Ù„Ø¯Ø±Ø¬Ø© ${currentGrade} Ø¥Ù„Ù‰ ${previousGrade})`, 'info');

            if (earnedList.length > 0) {
                showPromotionsList('âœ… Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª Ø§Ù„Ù…ØªØ±Ø§ÙƒÙ…Ø© Ø§Ù„ØªÙŠ ØªÙ… ØªØ­Ù‚ÙŠÙ‚Ù‡Ø§:', earnedList);
            }

            if (futureList.length > 0) {
                showPromotionsList('ğŸ“… Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø© Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©:', futureList);
            }

            if (nextPromotionDate) {
                showResult(`<strong>ğŸ“… Ù…ÙˆØ¹Ø¯ Ø£ÙˆÙ„ ØªØ±Ù‚ÙŠØ© Ù…Ø³ØªØ­Ù‚Ø© Ù‚Ø§Ø¯Ù…Ø©:</strong> ${formatDate(nextPromotionDate)}`, 'warning');
            }
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© Ø¨Ø¹Ø¯ Ø¸Ù‡ÙˆØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            document.getElementById('printBtn').style.display = 'block';
        }


        // **********************************************
        // Ø¯Ø§Ù„Ø© Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ (PDF)
        // **********************************************
        function printResultsToPDF() {
            window.print();
        }

        // Ø¯Ø§Ù„Ø© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†
        function resetForm() {
            document.getElementById('promotionForm').reset();
            document.getElementById('resultsContainer').innerHTML = '';
            document.getElementById('printBtn').style.display = 'none';
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„ÙØ¹Ù„ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
            setCurrentDate();
        }

        // Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        document.getElementById('calculateBtn').addEventListener('click', calculatePromotions);
        document.getElementById('resetBtn').addEventListener('click', resetForm);
        document.getElementById('printBtn').addEventListener('click', printResultsToPDF);

        // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ® Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('DOMContentLoaded', setCurrentDate);
    </script>
</body>
</html>
